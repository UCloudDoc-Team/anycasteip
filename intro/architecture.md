
{{indexmenu_n>5}}

# 技术架构

## 什么是Anycast

||场景|报文复制|接收方|
|---|---|---|---|
|Unicast|单播|单个源向单个接收方进行通信|无需复制|单个接收方|
|Mutilcast|组播|单个源向若干接受方进行通信|复制多份|多个接收方，接收方由IGMP等组播协议进行管理|
|Broadcast|广播|单个源向其子网内所有资源进行通信|复制多份|多个接收方，接收方为子网内所有资源（无VLAN隔离情况下）|
|Anycast|任播|单个源向一组接收方进行通信，但实际接收方仍然是一个，由路由协议选择确定|无需复制|一组接收方。该组接受方向互联网宣告相同的地址，报文选择目标服务器是通过路由协议确定的。|

## 与普通EIP的区别
* 普通EIP：单Region宣告，全球玩家跨Region需要通过公网访问。延时高，抖动大。
* AnycastEIP：多Region宣告，全球玩家用户就近接入UCloud骨干网，并通过UCloud专线完成传输。延时低、抖动小。

## 全球加速
#### 出向流量
* 源机房的核心通过默认路由出本地公网
#### 入向流量
* 跨机房回源：公网路由通过BGP选路，根据就近原则选择合适的机房入口流量回到各机房WBR，WBR通过IBN网络查询IBGP路由源机房的WBR并送到WER后完成回源。
* 本机房回源：公网路由到本机房WBR后将流量送至WER,WER在将流量送至UVER
* DDoS回源：当源站IP受到DDoS攻击时，各anycast机房会进行分布式流量清洗，清洗后的流量需要回注到WBN网络后送回源站

## 全球清洗
通过AnycastEIP，将攻击流量负载均衡到多个边缘POP点，并分别进行清洗，清洗后的流量可以通过UCloud专线送到源站。利用分布式清洗和专线回源，突破本地上联等物理限制，有效保证业务安全。


